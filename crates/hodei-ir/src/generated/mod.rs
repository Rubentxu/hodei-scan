//! Generated Cap'n Proto code (stub when compiler is not available)
!
//! This module is generated by build.rs from schema/ir.capnp
//! If the capnp compiler is not installed, this stub will be used instead.

#[cfg(feature = "capnp")]
mod actual;

#[cfg(feature = "capnp")]
pub use actual::ir_capnp;

/// Stub types used when Cap'n Proto compiler is not available
#[cfg(not(feature = "capnp"))]
pub mod ir_capnp {
    use thiserror::Error;

    #[derive(Error, Debug)]
    pub struct NotEnabledError;

    impl std::fmt::Display for NotEnabledError {
        fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
            write!(f, "Cap'n Proto support not enabled")
        }
    }

    // These are stub types that match the Cap'n Proto generated interface
    // They will never be actually used since the capnp_serialization module
    // returns an error when the feature is not enabled

    pub struct FactValueType;

    pub struct FactValue;

    pub struct KeyValuePair;

    pub struct CustomFactType;

    pub struct FactType;

    pub struct Fact;

    pub struct IntermediateRepresentation;

    // More stub types would be added here as needed
}
